<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Idea: Your life, searchable through Norch — NOde seaRCH | Thoughts, ideas and work - Technology, UX and DIY</title>
<meta name="keywords" content="">
<meta name="description" content="What if you could index your whole life and make this lifeindex available through search? What would that look like, and how could it help you? Refinding information is obviously one of the use case for this type of search. I’m guessing there’s a lot more, and I’m curious to figure them out.
Actions and reactions instead of web pages I had the lifeindex idea for a little while now. Originally the idea was to index everything I browsed.">
<meta name="author" content="">
<link rel="canonical" href="https://eklem.github.io/blog/posts/your-life-searchable/">
<link crossorigin="anonymous" href="/blog/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css" integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U&#43;6hYRq/Ez/nm5vg=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/blog/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://eklem.github.io/blog/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://eklem.github.io/blog/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://eklem.github.io/blog/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://eklem.github.io/blog/apple-touch-icon.png">
<link rel="mask-icon" href="https://eklem.github.io/blog/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Idea: Your life, searchable through Norch — NOde seaRCH" />
<meta property="og:description" content="What if you could index your whole life and make this lifeindex available through search? What would that look like, and how could it help you? Refinding information is obviously one of the use case for this type of search. I’m guessing there’s a lot more, and I’m curious to figure them out.
Actions and reactions instead of web pages I had the lifeindex idea for a little while now. Originally the idea was to index everything I browsed." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://eklem.github.io/blog/posts/your-life-searchable/" />
<meta property="og:image" content="https://eklem.github.io/blog/posts/your-life-searchable/ifttt-triggers.png" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-11-25T00:00:00+02:00" />
<meta property="article:modified_time" content="2014-11-25T00:00:00+02:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://eklem.github.io/blog/posts/your-life-searchable/ifttt-triggers.png" />
<meta name="twitter:title" content="Idea: Your life, searchable through Norch — NOde seaRCH"/>
<meta name="twitter:description" content="What if you could index your whole life and make this lifeindex available through search? What would that look like, and how could it help you? Refinding information is obviously one of the use case for this type of search. I’m guessing there’s a lot more, and I’m curious to figure them out.
Actions and reactions instead of web pages I had the lifeindex idea for a little while now. Originally the idea was to index everything I browsed."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://eklem.github.io/blog/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Idea: Your life, searchable through Norch — NOde seaRCH",
      "item": "https://eklem.github.io/blog/posts/your-life-searchable/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Idea: Your life, searchable through Norch — NOde seaRCH",
  "name": "Idea: Your life, searchable through Norch — NOde seaRCH",
  "description": "What if you could index your whole life and make this lifeindex available through search? What would that look like, and how could it help you? Refinding information is obviously one of the use case for this type of search. I’m guessing there’s a lot more, and I’m curious to figure them out.\nActions and reactions instead of web pages I had the lifeindex idea for a little while now. Originally the idea was to index everything I browsed.",
  "keywords": [
    
  ],
  "articleBody": "What if you could index your whole life and make this lifeindex available through search? What would that look like, and how could it help you? Refinding information is obviously one of the use case for this type of search. I’m guessing there’s a lot more, and I’m curious to figure them out.\nActions and reactions instead of web pages I had the lifeindex idea for a little while now. Originally the idea was to index everything I browsed. From what I know and where Norch is, it would take a while before I was anywhere close to achieving that goal. Then I thought of IFTTT, and saw it as a ‘next best thing’. But then it hit me that now I’m indexing actions, and that’s way better than pages. And the indexing process is event driven. But what I’m missing from most sources now are the reactions to my actions. If I have a question, I also want to crawl and index the answer. If I have a statement, I want to get the critique indexed.\nIFTTT and similar services (like Zapier) is quite limiting in their choice of triggers. Not sure if this is because of choices done by those services or limitations from the sites they crawl/pull information from.\nA quick fix for this, and a generally good idea for Search Engines, would be to switch from a preview of your content to the actual content in the form of an embed-view.\nTechnology: Hello IFTTT, Google SpreadSheet and Norch IFTTT is triggered by my actions, and stores some data to a series of spreadsheets on Google Drive. These spreadsheets can deliver JSON. After a little document processing these JSON-files can be fed to the Norch-indexer.\nWhy hasn’t this idea popped up earlier? Search engines used to be hardware guzzling technology. With Norch, the “NOde seaRCH” engine, that has changed. Elasticsearch and Solr are easy and small compared to i.e. SharePoint Search, but still it needs a lot of hardware. Norch can run on a Raspberry Pi, and soon it will be able to run in your browser. Maybe data sets closer to small data is more interesting than big data?\nA Raspberry Pi running a Norch search enginge\nWhy using a search engine? It’s cheap and quick. I’m not a developer, and I’ll still be able to glue all these sources together. Search engines are often a good choice when you have multiple sources. IFTTT and Google SpreadSheet makes it even easier, normalising the input and delivering it as JSON.\nHow far in the process have I come? So far, I’ve set up a lot of triggers/sources at IFTTT.com:\nInstagram: When posting or liking both photos and videos. Flickr: When posting an image, creating a set or linking a photo. Google Calendar: When adding something to one of my calendars. Facebook: When i post a link, is tagged, post a status message. Twitter: When I tweet, retweet, reply or if somebody mentions me. Youtube: When I post or like a video. GitHub: When I create an issue, gets assigned to an issue or any issues that I part take in is closed. WordPress: When new posts or comments on posts. Android location tracking: When I enter and exit certain areas. Android phone log: Placed, received and missed calls. Gmail: Starred emails. Data from different sources added to spreadsheets on Google Drive with IFTTT.\nAnd gotten a good chunk of data. Indexing my SMS’es felt a bit creepy, so I stopped doing that. And storing email just sounded too excessive, but I think starred emails would suit the purpose of the project.\nThose Google Drive documents are giving me JSON. Not JSON that I can feed directly Norch-indexer, it needs a little trimming.\nIssues discovered so far Manual work This search solution needs a lot of manual setup. Every trigger needs to be set up manually. Everytime a new trigger is triggered, I get a new spreadsheet that needs a title row added. Or else, the JSON variables will look funny, since first row is used for variable names.\nThe spreadsheets only accepts 2000 rows. After that a new file is created. Either I need to delete content, rename the file or reconfigure some stuff.\nLevel of maturity A lot of trigger timeout errors in the recipe log.\nIFTTT is a really nice service, and they treat their users well. But, for now, it’s not something you can trust fully.\nCleaning up duplicates and obsolete stuff I have no way of removing stuff from the index automatically at this point. If I delete something I’ve added/written/created, it will not be reflected in the index.\nMissing sources Books I buy, music I listen to, movies and TV-series I watch. Or Amazon, Spotify, Netflix and HBO. Apart from that, there are no Norwegian services available through IFTTT.\nHistory The crawling is triggered by my actions. That leaves me without history. So, i.e. new contacts on LinkedIn is meaningless when I don’t get to index the existing ones.\nNext steps JSON clean-up I need to make a document processing step. Norch-document-processor would be nice if it had handled JSON in addition to HTML. Not yet, but maybe in the future? Anyway, there’s just a small amount of JSON clean-up before I got my data in and index.\nWhen this step is done, a first version can be demoed.\nUX and front-end code To show the full potential, I need some interaction design of the idea. For now they’re all in my head. And these sketches needs to be converted to HTML, CSS and Angular view.\nEmbed codes Figure out how to embed Instagram, Flickr, Facebook and LinkedIn-posts, Google Maps, federated phonebook search etc.\nOAUTH configuration Set up OAUTH NPM package to access non-public spreadsheets on Google Drive. Then I can add some of the less open information I have stored.\n",
  "wordCount" : "979",
  "inLanguage": "en",
  "image":"https://eklem.github.io/blog/posts/your-life-searchable/ifttt-triggers.png","datePublished": "2014-11-25T00:00:00+02:00",
  "dateModified": "2014-11-25T00:00:00+02:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://eklem.github.io/blog/posts/your-life-searchable/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Thoughts, ideas and work - Technology, UX and DIY",
    "logo": {
      "@type": "ImageObject",
      "url": "https://eklem.github.io/blog/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://eklem.github.io/blog/" accesskey="h" title="Thoughts, ideas and work - Technology, UX and DIY (Alt + H)">Thoughts, ideas and work - Technology, UX and DIY</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Idea: Your life, searchable through Norch — NOde seaRCH
    </h1>
    <div class="post-meta"><span title='2014-11-25 00:00:00 +0200 +0200'>November 25, 2014</span>

</div>
  </header> 
<figure class="entry-cover">
        <img loading="lazy" srcset="https://eklem.github.io/blog/posts/your-life-searchable/ifttt-triggers_hue6e8c45ecff6af8a8361a8fd5b34cae4_185413_360x0_resize_box_3.png 360w ,https://eklem.github.io/blog/posts/your-life-searchable/ifttt-triggers_hue6e8c45ecff6af8a8361a8fd5b34cae4_185413_480x0_resize_box_3.png 480w ,https://eklem.github.io/blog/posts/your-life-searchable/ifttt-triggers_hue6e8c45ecff6af8a8361a8fd5b34cae4_185413_720x0_resize_box_3.png 720w ,https://eklem.github.io/blog/posts/your-life-searchable/ifttt-triggers.png 1000w" 
            sizes="(min-width: 768px) 720px, 100vw" src="https://eklem.github.io/blog/posts/your-life-searchable/ifttt-triggers.png" alt="IFTTT recipes storing data from Youtube, Instagram, Twitter and GitHub to a Google Drive Spreadsheet." 
            width="1000" height="712">
        <p>IFTTT recipes storing data from Youtube, Instagram, Twitter and GitHub to a Google Drive Spreadsheet.</p>
</figure>
  <div class="post-content"><p>What if you could index your whole life and make this lifeindex available through search? What would that look like, and how could it help you? Refinding information is obviously one of the use case for this type of search. I’m guessing there’s a lot more, and I’m curious to figure them out.</p>
<h2 id="actions-and-reactions-instead-of-web-pages">Actions and reactions instead of web pages<a hidden class="anchor" aria-hidden="true" href="#actions-and-reactions-instead-of-web-pages">#</a></h2>
<p>I had the lifeindex idea for a little while now. Originally the idea was to index everything I browsed. From what I know and where <a href="https://github.com/fergiemcdowall/norch">Norch</a> is, it would take a while before I was anywhere close to achieving that goal. Then I thought of IFTTT, and saw it as a ‘next best thing’. But then it hit me that now I’m indexing actions, and that’s way better than pages. And the indexing process is event driven. But what I’m missing from most sources now are the reactions to my actions. If I have a question, I also want to crawl and index the answer. If I have a statement, I want to get the critique indexed.</p>
<p>IFTTT and similar services (like Zapier) is quite limiting in their choice of triggers. Not sure if this is because of choices done by those services or limitations from the sites they crawl/pull information from.</p>
<p>A quick fix for this, and a generally good idea for Search Engines, would be to switch from a preview of your content to the actual content in the form of an embed-view.</p>
<h2 id="technology-hello-ifttt-google-spreadsheet-and-norch">Technology: Hello IFTTT, Google SpreadSheet and Norch<a hidden class="anchor" aria-hidden="true" href="#technology-hello-ifttt-google-spreadsheet-and-norch">#</a></h2>
<p>IFTTT is triggered by my actions, and stores some data to a series of spreadsheets on Google Drive. These spreadsheets can deliver JSON. After a little document processing these JSON-files can be fed to the <a href="https://github.com/fergiemcdowall/norch/blob/master/docs/API.md#add">Norch-indexer</a>.</p>
<h2 id="why-hasnt-this-idea-popped-up-earlier">Why hasn’t this idea popped up earlier?<a hidden class="anchor" aria-hidden="true" href="#why-hasnt-this-idea-popped-up-earlier">#</a></h2>
<p>Search engines used to be hardware guzzling technology. With Norch, the “NOde seaRCH” engine, that has changed. Elasticsearch and Solr are easy and small compared to i.e. SharePoint Search, but still it needs a lot of hardware. Norch can run on a Raspberry Pi, and soon it will be able to run in your browser. Maybe data sets closer to <a href="http://en.wikipedia.org/wiki/Small_data">small data</a> is more interesting than <a href="http://en.wikipedia.org/wiki/Big_data">big data</a>?</p>
<p>
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/ijLtk5TgvZg" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<em>A Raspberry Pi running a Norch search enginge</em></p>
<h2 id="why-using-a-search-engine">Why using a search engine?<a hidden class="anchor" aria-hidden="true" href="#why-using-a-search-engine">#</a></h2>
<p>It’s cheap and quick. I’m not a developer, and I’ll still be able to glue all these sources together. Search engines are often a good choice when you have multiple sources. IFTTT and Google SpreadSheet makes it even easier, normalising the input and delivering it as JSON.</p>
<h2 id="how-far-in-the-process-have-i-come">How far in the process have I come?<a hidden class="anchor" aria-hidden="true" href="#how-far-in-the-process-have-i-come">#</a></h2>
<p>So far, I’ve set up a lot of triggers/sources at IFTTT.com:</p>
<ul>
<li>Instagram: When posting or liking both photos and videos.</li>
<li>Flickr: When posting an image, creating a set or linking a photo.</li>
<li>Google Calendar: When adding something to one of my calendars.</li>
<li>Facebook: When i post a link, is tagged, post a status message.</li>
<li>Twitter: When I tweet, retweet, reply or if somebody mentions me.</li>
<li>Youtube: When I post or like a video.</li>
<li>GitHub: When I create an issue, gets assigned to an issue or any issues that I part take in is closed.</li>
<li>WordPress: When new posts or comments on posts.</li>
<li>Android location tracking: When I enter and exit certain areas.</li>
<li>Android phone log: Placed, received and missed calls.</li>
<li>Gmail: Starred emails.</li>
</ul>
<p><img loading="lazy" src="google-drive-01.png" alt="Data from different sources added to spreadsheets on Google Drive with IFTTT"  />

<img loading="lazy" src="google-drive-02.png" alt="More data from different sources added to spreadsheets on Google Drive with IFTTT"  />

<em>Data from different sources added to spreadsheets on Google Drive with IFTTT.</em></p>
<p>And gotten a good chunk of data. Indexing my SMS’es felt a bit creepy, so I stopped doing that. And storing email just sounded too excessive, but I think starred emails would suit the purpose of the project.</p>
<p>Those Google Drive documents are giving me JSON. Not JSON that I can feed directly Norch-indexer, it needs a little trimming.</p>
<h2 id="issues-discovered-so-far">Issues discovered so far<a hidden class="anchor" aria-hidden="true" href="#issues-discovered-so-far">#</a></h2>
<h3 id="manual-work">Manual work<a hidden class="anchor" aria-hidden="true" href="#manual-work">#</a></h3>
<p>This search solution needs a lot of manual setup. Every trigger needs to be set up manually. Everytime a new trigger is triggered, I get a new spreadsheet that needs a title row added. Or else, the JSON variables will look funny, since first row is used for variable names.</p>
<p>The spreadsheets only accepts 2000 rows. After that a new file is created. Either I need to delete content, rename the file or reconfigure some stuff.</p>
<h3 id="level-of-maturity">Level of maturity<a hidden class="anchor" aria-hidden="true" href="#level-of-maturity">#</a></h3>
<p><img loading="lazy" src="ifttt-issues.png" alt="A lot of trigger timeout errors in the recipe log."  />

<em>A lot of trigger timeout errors in the recipe log.</em></p>
<p>IFTTT is a really nice service, and they treat their users well. But, for now, it’s not something you can trust fully.</p>
<h3 id="cleaning-up-duplicates-and-obsolete-stuff">Cleaning up duplicates and obsolete stuff<a hidden class="anchor" aria-hidden="true" href="#cleaning-up-duplicates-and-obsolete-stuff">#</a></h3>
<p>I have no way of removing stuff from the index automatically at this point. If I delete something I’ve added/written/created, it will not be reflected in the index.</p>
<h3 id="missing-sources">Missing sources<a hidden class="anchor" aria-hidden="true" href="#missing-sources">#</a></h3>
<p>Books I buy, music I listen to, movies and TV-series I watch. Or Amazon, Spotify, Netflix and HBO. Apart from that, there are no Norwegian services available through IFTTT.</p>
<h3 id="history">History<a hidden class="anchor" aria-hidden="true" href="#history">#</a></h3>
<p>The crawling is triggered by my actions. That leaves me without history. So, i.e. new contacts on LinkedIn is meaningless when I don’t get to index the existing ones.</p>
<h2 id="next-steps">Next steps<a hidden class="anchor" aria-hidden="true" href="#next-steps">#</a></h2>
<h3 id="json-clean-up">JSON clean-up<a hidden class="anchor" aria-hidden="true" href="#json-clean-up">#</a></h3>
<p>I need to make a document processing step. Norch-document-processor would be nice if it had handled JSON in addition to HTML. Not yet, but maybe in the future? Anyway, there’s just a small amount of JSON clean-up before I got my data in and index.</p>
<p>When this step is done, a first version can be demoed.</p>
<h3 id="ux-and-front-end-code">UX and front-end code<a hidden class="anchor" aria-hidden="true" href="#ux-and-front-end-code">#</a></h3>
<p>To show the full potential, I need some interaction design of the idea. For now they’re all in my head. And these sketches needs to be converted to HTML, CSS and Angular view.</p>
<h3 id="embed-codes">Embed codes<a hidden class="anchor" aria-hidden="true" href="#embed-codes">#</a></h3>
<p>Figure out how to embed Instagram, Flickr, Facebook and LinkedIn-posts, Google Maps, federated phonebook search etc.</p>
<h3 id="oauth-configuration">OAUTH configuration<a hidden class="anchor" aria-hidden="true" href="#oauth-configuration">#</a></h3>
<p>Set up <a href="https://github.com/ciaranj/node-oauth">OAUTH NPM package</a> to access non-public spreadsheets on Google Drive. Then I can add some of the less open information I have stored.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://eklem.github.io/blog/">Thoughts, ideas and work - Technology, UX and DIY</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
